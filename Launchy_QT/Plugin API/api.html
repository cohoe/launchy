<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="api_files/filelist.xml">
<title>Launchy 2</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Joe</o:Author>
  <o:LastAuthor>Joe</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>119</o:TotalTime>
  <o:Created>2008-06-14T21:02:00Z</o:Created>
  <o:LastSaved>2008-06-14T21:04:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>687</o:Words>
  <o:Characters>3922</o:Characters>
  <o:Lines>32</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4600</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;
	font-weight:bold;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:Arial;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:933592132;
	mso-list-type:hybrid;
	mso-list-template-ids:1527148950 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<h1 align=center style='text-align:center'><span class=SpellE>Launchy</span>
2.0 <span class=SpellE>Plugin</span> API Documentation</h1>

<h3 align=center style='text-align:center'>Josh <span class=SpellE>Karlin</span></h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><a href="#_Setting_up_the">Setting up the build environment</a></p>

<p class=MsoNormal><a href="#_Building_your_first">Building your first <span
class=SpellE>plugin</span></a></p>

<p class=MsoNormal><a href="#_Editing_the_plugin">Editing the <span
class=SpellE>plugin</span></a></p>

<p class=MsoNormal><a href="#_Distributing_your_plugin">Distributing your <span
class=SpellE>plugin</span></a></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><a href="http://www.launchy.net/api2.0/myplugin.zip">Skeleton
<span class=SpellE>Plugin</span></a></p>

<p class=MsoNormal><a href="doxydoc/plugin__interface_8h.html"><span
class=SpellE>Doxygen</span> Documentation</a></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3>Introduction</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>By itself, <span class=SpellE>Launchy</span> can only index
regular windows files such as mp3's, documents, links etc. There are infinitely
more things that the simple <span class=SpellE>Launchy</span> interface could
be used for, e.g. as a calculator, browser launcher, directory walker, etc.</p>

<p><span class=SpellE>Launchy's</span> interface is broken down into a user
input window and a program output window. As the user enters input, the items
are matched against <span class=SpellE>Launchy's</span> index of objects and
the best matching object's display name is displayed in the output window. If
the user presses the enter key then the object is launched by the object's
owner. If the user presses the TAB key then the owner is asked to provide a new
set of objects.</p>

<p class=MsoNormal>In this document, I describe how <span class=SpellE>plugins</span>
can be developed to add new types of objects to the catalog and take control of
the execution of existing ones.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Setting_up_the"></a>Setting up the build environment</h3>

<p class=MsoNormal>For this setup, we require Visual Studio (preferably 2005 as
that is what I use) and QT 4.3.3 or greater (but less than 5.x).<span
style='mso-spacerun:yes'>  </span>I will assume that you already have Visual
Studio installed but not the QT developer environment.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>Installing QT</i></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Download the open source windows version of QT version here:
<a href="http://trolltech.com/developer/downloads/qt/windows">QT download</a><span
style='mso-spacerun:yes'>  </span><span class=GramE>Don’t</span> get the <span
class=SpellE>mingw</span> build, you just want the source zip file.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Unzip the file and rename the directory to <span
class=GramE>4.x.x<span style='mso-spacerun:yes'>  </span>(</span>replace the <span
class=SpellE>x’s</span> with your downloaded version number).<span
style='mso-spacerun:yes'>  </span>Then place 4.x.x into c:\qt\ so that you have
a c:\qt\4.x.x\ directory.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Add 2 environment variables (under control
panel-&gt;system-&gt;advanced-&gt;environment variables)</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='mso-list:l0 level1 lfo1;tab-stops:list .5in'>QMAKESPEC
     = win32-msvc2005</li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo1;tab-stops:list .5in'>QTDIR
     = c:\qt\4.x.x</li>
</ol>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>From <span class=SpellE>Launchy</span> or your start menu,
run the “Visual Studio 2005 Command Prompt”</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>From the command prompt type the following (this takes
awhile to finish):</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=SpellE><span class=GramE>cd</span></span>
c:\qt\4.x.x</p>

<p class=MsoNormal><span class=GramE>configure</span> –debug-and-release –no-<span
class=SpellE>stl</span> –no-qt3support</p>

<p class=MsoNormal><span class=SpellE><span class=GramE>nmake</span></span></p>

<p class=MsoNormal>Okay, now QT is built.<span style='mso-spacerun:yes'> 
</span>Note in c:\qt\4.x.x\bin there are a bunch of useful utilities.<span
style='mso-spacerun:yes'>  </span>The <span class=SpellE>dll’s</span> that
comprise the QT library are in there as well as the excellent QT documentation
in a program called “assistant.exe”.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<h3><a name="_Building_your_first"></a>Building your first <span class=SpellE>plugin</span></h3>

<p class=MsoNormal>Download the <span class=SpellE>plugin</span> skeleton <a
href="http://www.launchy.net/api2.0/myplugin.zip">here</a>.<span
style='mso-spacerun:yes'>  </span>This includes a blank <span class=SpellE>plugin</span>,
all of the necessary header files, and a visual studio project designed for
compilation with <span class=SpellE>QT’s</span> <span class=SpellE>qmake</span>.<span
style='mso-spacerun:yes'>  </span>Note that you need to edit ‘<span
class=SpellE>myplugin.pro</span>’ when adding or removing files from your
project.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Please download and extract the <span class=SpellE>plugin</span>
skeleton.<span style='mso-spacerun:yes'>  </span>Ensure that your %QTDIR%
variable is properly set and then restart visual studio.<span
style='mso-spacerun:yes'>  </span>Now open the <span class=SpellE>plugin</span>
project.<span style='mso-spacerun:yes'>  </span>It should build with some
compile warnings (due to empty functions).<span style='mso-spacerun:yes'> 
</span>Your compiled <span class=SpellE>Launchy</span> <span class=SpellE>plugin</span>
is in debug\myplugin.dll</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Editing_the_plugin"></a>Editing the <span class=SpellE>plugin</span></h3>

<p class=MsoNormal><span class=SpellE>Launchy</span> deals solely with the <span
class=SpellE>plugin’s</span> “<span class=SpellE>msg</span>” function.<span
style='mso-spacerun:yes'>  </span><span class=SpellE>Msg</span> then dispatches
incoming events to appropriate event handlers.<span style='mso-spacerun:yes'> 
</span>The “<span class=SpellE>msg</span>” function should return true if the
event was <span class=GramE>handled,</span> and false otherwise.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The first thing to change about your new <span class=SpellE>plugin</span>
is its name.<span style='mso-spacerun:yes'>  </span>In “<span class=SpellE>myplugin.h</span>”
there is a line: #<span class=GramE>define</span> PLUGIN_NAME &quot;<span
class=SpellE>MyPlugin</span>&quot;.<span style='mso-spacerun:yes'>  </span>You
should replace “<span class=SpellE>MyPlugin</span>” with the name that you
desire.<span style='mso-spacerun:yes'>  </span>Next, you should proceed to fill
out any of the necessary event functions that you require.<span
style='mso-spacerun:yes'>  </span>To do this, you need example code and
documentation about the specifics events.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>For example <span class=SpellE>plugins</span>, please refer
to the source code of the <span class=SpellE>plugins</span> that are shipped
with <span class=SpellE>Launchy</span>.<span style='mso-spacerun:yes'> 
</span>The code can be browsed via the <span class=SpellE>svn</span> repository
<a
href="http://launchy.svn.sourceforge.net/viewvc/launchy/trunk/Launchy_QT/plugins/">here</a>.<span
style='mso-spacerun:yes'>  </span>When browsing the code, don’t click on the
file name, click on the revision number.<span style='mso-spacerun:yes'> 
</span>That will show you all of the file’s contents for the given
revision.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>For event documentation, please refer to the <span
class=SpellE>doxygen</span> <a href="doxydoc/plugin__interface_8h.html">documentation</a>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Distributing_your_plugin"></a>Running your <span class=SpellE>plugin</span></h3>

<p class=MsoNormal>First, make sure your <span class=SpellE>plugin</span> has
an icon!<span style='mso-spacerun:yes'>  </span>This icon should go into <span
class=SpellE>Launchy\plugins\icons</span>\. <span
style='mso-spacerun:yes'> </span>Next, make sure your code points to this icon
in your “<span class=SpellE>getIcon</span>” function.<span
style='mso-spacerun:yes'>  </span>Finally, copy your <span class=SpellE>plugin’s</span>
compiled .<span class=SpellE>dll</span> file to the <span class=SpellE>Launchy\plugins</span>
directory and restart <span class=SpellE>Launchy</span>.<span
style='mso-spacerun:yes'>  </span>Good luck!</p>

</div>

</body>

</html>
